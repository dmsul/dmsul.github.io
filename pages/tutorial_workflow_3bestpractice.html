<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Best Practices when Writing Code - Daniel M. Sullivan</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://www.danielmsullivan.com/pages/tutorial_workflow_3bestpractice.html">

        <meta name="author" content="Daniel M. Sullivan" />
        <meta name="description" content="&#34;Writing Code in Econ&#34; Series Overview Previous: Project Organization Page Contents 1   &#34;Don&#39;t Repeat Yourself&#34; 1.1   No Copy-and-pasting 1.2   Automate empirical results completely 2   Write self-documenting code 2.1   No &#34;magic&#34; numbers 2.2   Use functions like paragraphs 2.3   Use docstrings 2.4   Scripts should only contain functions, constants, and an &#34;if-main&#34; block 3   Use a consistent style 3.1   Lines should …" />

    <meta property="og:site_name" content="Daniel M. Sullivan" />
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Best Practices when Writing Code"/>
    <meta property="og:url" content="http://www.danielmsullivan.com/pages/tutorial_workflow_3bestpractice.html"/>
    <meta property="og:description" content="&#34;Writing Code in Econ&#34; Series Overview Previous: Project Organization Page Contents 1   &#34;Don&#39;t Repeat Yourself&#34; 1.1   No Copy-and-pasting 1.2   Automate empirical results completely 2   Write self-documenting code 2.1   No &#34;magic&#34; numbers 2.2   Use functions like paragraphs 2.3   Use docstrings 2.4   Scripts should only contain functions, constants, and an &#34;if-main&#34; block 3   Use a consistent style 3.1   Lines should …" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://www.danielmsullivan.com/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="http://www.danielmsullivan.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://www.danielmsullivan.com/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://www.danielmsullivan.com/theme/css/style.css" type="text/css"/>



</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://www.danielmsullivan.com/" class="navbar-brand">
Daniel M. Sullivan            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pdf/Sullivan_CV.pdf">CV</a></li>
                    <li><a href="/pages/research.html">Research</a></li>
                    <li><a href="/pages/code.html">Code</a></li>
                    <li><a href="/pages/contact.html">Contact</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content" class="body">
        <h1 class="entry-title">Best Practices when Writing Code</h1>
        
        <div class="entry-content">
            <p><strong>&quot;Writing Code in Econ&quot; Series</strong></p>
<ul class="simple">
<li><a class="reference external" href="tutorial_workflow_0overview.html">Overview</a></li>
<li>Previous: <a class="reference external" href="tutorial_workflow_2project_org.html">Project Organization</a></li>
</ul>
<div class="contents topic" id="page-contents">
<p class="topic-title first">Page Contents</p>
<ul class="auto-toc simple">
<li><a class="reference internal" href="#don-t-repeat-yourself" id="id1">1&nbsp;&nbsp;&nbsp;&quot;Don't Repeat Yourself&quot;</a><ul class="auto-toc">
<li><a class="reference internal" href="#no-copy-and-pasting" id="id2">1.1&nbsp;&nbsp;&nbsp;No Copy-and-pasting</a></li>
<li><a class="reference internal" href="#automate-empirical-results-completely" id="id3">1.2&nbsp;&nbsp;&nbsp;Automate empirical results completely</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-self-documenting-code" id="id4">2&nbsp;&nbsp;&nbsp;Write self-documenting code</a><ul class="auto-toc">
<li><a class="reference internal" href="#no-magic-numbers" id="id5">2.1&nbsp;&nbsp;&nbsp;No &quot;magic&quot; numbers</a></li>
<li><a class="reference internal" href="#use-functions-like-paragraphs" id="id6">2.2&nbsp;&nbsp;&nbsp;Use functions like paragraphs</a></li>
<li><a class="reference internal" href="#use-docstrings" id="id7">2.3&nbsp;&nbsp;&nbsp;Use docstrings</a></li>
<li><a class="reference internal" href="#scripts-should-only-contain-functions-constants-and-an-if-main-block" id="id8">2.4&nbsp;&nbsp;&nbsp;Scripts should only contain functions, constants, and an &quot;if-main&quot; block</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-a-consistent-style" id="id9">3&nbsp;&nbsp;&nbsp;Use a consistent style</a><ul class="auto-toc">
<li><a class="reference internal" href="#lines-should-be-less-than-80-characters-wide" id="id10">3.1&nbsp;&nbsp;&nbsp;Lines should be less than 80 characters wide</a></li>
<li><a class="reference internal" href="#indentation" id="id11">3.2&nbsp;&nbsp;&nbsp;Indentation</a></li>
<li><a class="reference internal" href="#imports" id="id12">3.3&nbsp;&nbsp;&nbsp;Imports</a></li>
<li><a class="reference internal" href="#don-t-use-the-same-variable-name-for-different-things" id="id13">3.4&nbsp;&nbsp;&nbsp;Don't use the same variable name for different things</a></li>
<li><a class="reference internal" href="#make-lowercase-uppercase-meaningful" id="id14">3.5&nbsp;&nbsp;&nbsp;Make lowercase/uppercase meaningful</a></li>
<li><a class="reference internal" href="#other-stuff" id="id15">3.6&nbsp;&nbsp;&nbsp;Other stuff</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-script" id="id16">4&nbsp;&nbsp;&nbsp;Example Script</a></li>
<li><a class="reference internal" href="#follow-robust-development-practices" id="id17">5&nbsp;&nbsp;&nbsp;Follow Robust Development Practices</a><ul class="auto-toc">
<li><a class="reference internal" href="#build-your-code-incrementally-in-a-script" id="id18">5.1&nbsp;&nbsp;&nbsp;Build your code incrementally in a script</a></li>
<li><a class="reference internal" href="#don-t-run-snippets-of-code-in-isolation" id="id19">5.2&nbsp;&nbsp;&nbsp;Don't run snippets of code in isolation</a></li>
<li><a class="reference internal" href="#use-the-ipython-terminal-and-a-text-editor" id="id20">5.3&nbsp;&nbsp;&nbsp;Use the IPython terminal and a text editor</a></li>
<li><a class="reference internal" href="#manage-your-installed-libraries-using-a-virtual-environment" id="id21">5.4&nbsp;&nbsp;&nbsp;Manage your installed libraries using a virtual environment</a></li>
<li><a class="reference internal" href="#use-universal-immutable-identifiers-whenever-possible" id="id22">5.5&nbsp;&nbsp;&nbsp;Use universal, immutable identifiers whenever possible</a></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<blockquote>
<p>Indeed, the ratio of time spent reading versus writing is well over 10 to
1. We are constantly reading old code as part of the effort to write new
code. ...[Therefore,] making it easy to read makes it easier to write.</p>
<p>~ Robert C. Martin, Clean Code: A Handbook of Agile Software Craftsmanship</p>
</blockquote>
<p>Writing easy-to-read code is important, especialy when you're working with a team.
Code that's easy to read improves everyone's productivity, even when the
&quot;other&quot; person reading the code is Future You, because Future You
may not rememeber what Present You is doing today and why.</p>
<blockquote class="twitter-tweet"> <p lang="en" dir="ltr">     &quot;Any code of your own that you haven&#39;t looked at for six or     more months might as well have been written by someone else.&quot; -     Eagleson&#39;s law</p>&mdash; Programming Wisdom (@CodeWisdom)     <a href="https://twitter.com/CodeWisdom/status/1089880021441933312?ref_src=twsrc%5Etfw">     January 28, 2019     </a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p><em>Note:</em> This guide is written with Python in mind, but very little of it is
specific to Python. The principles are just as helpful in Stata, R, and other languages.</p>
<div class="section" id="don-t-repeat-yourself">
<h2><a class="toc-backref" href="#id1">1&nbsp;&nbsp;&nbsp;&quot;Don't Repeat Yourself&quot;</a></h2>
<blockquote class="twitter-tweet"> <p lang="en" dir="ltr"> &quot;DRY - Don’t Repeat Yourself - Every piece of knowledge must have a single, unambiguous, authoritative representation within a system.&quot; - Andy Hunt &amp; Dave Thomas</p>&mdash; Programming Wisdom (@CodeWisdom) <a href="https://twitter.com/CodeWisdom/status/1089155243965861888?ref_src=twsrc%5Etfw">January 26, 2019</a> </blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><div class="section" id="no-copy-and-pasting">
<h3><a class="toc-backref" href="#id2">1.1&nbsp;&nbsp;&nbsp;No Copy-and-pasting</a></h3>
<p>Variables and algorithms should be defined in exactly one place. This is a
cardinal rule. If you copy and paste code to use it in multiple places, it is
difficult to make sure any changes you make later also get copied and pasted.</p>
<p>If a file name (e.g., <code>c:\data\subsample2.csv</code>) is defined in only one
place and imported elsewhere, you can change the file name in that single place
know for certain the change will propagate through the rest of your code.</p>
<p>If you run lots of robustness checks on the same sample of data, do that data
prep in a single function and import that function in every robustness check
script. That way you know for a certainty that every regression is using
exactly the same sample, even if you come in and change something later.</p>
</div>
<div class="section" id="automate-empirical-results-completely">
<h3><a class="toc-backref" href="#id3">1.2&nbsp;&nbsp;&nbsp;Automate empirical results completely</a></h3>
<p>Figures and tables created by your code should be inserted directly into
presentations or papers without manual editing.
You don't want to have to tweak tables every time you re-create them.
You're bound to insert a typo, forget one of the steps in tweaking, etc.</p>
</div>
</div>
<div class="section" id="write-self-documenting-code">
<h2><a class="toc-backref" href="#id4">2&nbsp;&nbsp;&nbsp;Write self-documenting code</a></h2>
<blockquote class="twitter-tweet"> <p lang="en" dir="ltr"> “Good code is its own best documentation. As you&#39;re about to add a comment, ask yourself, &#39;How can I improve the code so that this comment isn&#39;t needed?&#39; Improve the code and then document it to make it even clearer.” - Steve McConnell</p>&mdash; Programming Wisdom (@CodeWisdom) <a href="https://twitter.com/CodeWisdom/status/1090308606409478144?ref_src=twsrc%5Etfw"> January 29, 2019</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>Give variables, functions, and files descriptive names. Err on the side of
names being too long and too descriptive. Part of the reason you should be
using tools like a good text editor and a good console like CMDer is that they
have lots of predictive text and auto-completion functions to help with long
variable and file names. Use comments to clarify why a particular coding
choice was made. A few examples:</p>
<ul class="simple">
<li>The filename <code>reg_sale_price.py</code> is beter than <code>reg.py</code>.
A name like <code>table1.py</code> is completely forbidden.</li>
<li>It is helpful to name functions or variables that only take on True/False
values with <code>is_</code> or <code>has_</code>. See <code>is_triangle</code> in the
example code below.</li>
</ul>
<p>A few other naming conventions we tend to follow:</p>
<ul class="simple">
<li>If a function only deals with a single Pandas DataFrame, call it <code>df</code>.</li>
<li>Indexes in loops should still be descriptive. However, the index inside a
list comprehension can be something short like <code>i</code> or <code>x</code>,
provided there is only one variable being looped over.</li>
<li>Degrees longitude and latitude will tend to be called <code>x</code> and <code>y</code>
respectively. This is not a requirement but we have found that it's easy to
mix up &quot;latitude&quot; and &quot;longitude&quot;.</li>
</ul>
<div class="section" id="no-magic-numbers">
<h3><a class="toc-backref" href="#id5">2.1&nbsp;&nbsp;&nbsp;No &quot;magic&quot; numbers</a></h3>
<p>A <a class="reference external" href="https://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad">&quot;magic number&quot;</a>
is a number in code that is directly used, usually with no information about
what the number represents or why that specific number is used.</p>
<p>Consider the following code fragment which has been adapted from a script
behind several well-known published papers:</p>
<div class="highlight"><pre><span></span><span class="c1"># Bad:</span>
<span class="n">vector_A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3109</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">vector_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">565</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">vector_C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3109</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
<p>What do the numbers <code>3109</code> and <code>565</code> represent? Nobody knows.
You could add a comment</p>
<div class="highlight"><pre><span></span><span class="c1"># Less bad:</span>
<span class="c1"># Here 3109 is number of counties in the sample, 565 is time periods</span>
<span class="n">vector_A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3109</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">vector_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">565</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">vector_C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3109</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
<p>But the best way is Don't Repeat Yourself, define these numbers in exactly one
place (especially if they're used in multiple places like here) and let the
code be self explanatory.</p>
<div class="highlight"><pre><span></span><span class="c1"># Good:</span>
<span class="n">NUM_COUNTIES</span> <span class="o">=</span> <span class="mi">3109</span>
<span class="n">NUM_TIME_PERIODS</span> <span class="o">=</span> <span class="mi">565</span>
<span class="n">vector_A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">NUM_COUNTIES</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">vector_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">NUM_TIME_PERIODS</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">vector_C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">NUM_COUNTIES</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="use-functions-like-paragraphs">
<h3><a class="toc-backref" href="#id6">2.2&nbsp;&nbsp;&nbsp;Use functions like paragraphs</a></h3>
<p>The main unit of code should be functions. Even if you're only going to use a
function once, breaking your script into functions makes it easier to read.</p>
<p>Suppose it takes 30 lines of code to create a balanced panel within your data.
Even if you only do it once, a line like <code>df = create_balanced_panel(df)</code>
is much easier to digest than the 30 lines themselves.</p>
</div>
<div class="section" id="use-docstrings">
<h3><a class="toc-backref" href="#id7">2.3&nbsp;&nbsp;&nbsp;Use docstrings</a></h3>
<p>Python has a special convention called docstrings. At the beginning of a script
or the beginning of a function, you can add a multiline string with triple
quotes <code>&quot;&quot;&quot;</code> that will serve as the documentation for that script or
function. The special <code>help</code> function will display the docstring of any
object passed to it, e.g., <code>help(my_function)</code> will print the docstring
of <code>my_function</code> if it exists.</p>
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This is the script docstring. It describes the main purpose of a script. It</span>
<span class="sd">Can be many lines long.</span>

<span class="sd">It will also preserve formatting.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">my_function</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the docstring for `my_function`. It will be printed on the</span>
<span class="sd">    console whenever I call `help(my_function)`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
<p>Most other languages do not use docstrings, but you can you block comments,
like <code>/* */</code> in Stata, to achieve the same goal.</p>
</div>
<div class="section" id="scripts-should-only-contain-functions-constants-and-an-if-main-block">
<h3><a class="toc-backref" href="#id8">2.4&nbsp;&nbsp;&nbsp;Scripts should only contain functions, constants, and an &quot;if-main&quot; block</a></h3>
<p><strong>IMPORTANT:</strong> Most of the guidance on this page is stylistic, aimed at
making you more productive as a programmer while having litte impact on what
your code actually does.
This section is different.
It has a stylistic element, but not using an &quot;if-main&quot; block can significantly
impact how your script runs.</p>
<p>When you import something from another Python file, the entire file is
executed. Suppose you want to import a function called
<code>computation_that_takes_forever</code> which is used in script
<code>cleandata.py</code> that looks like this</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">MAX_ITERATIONS</span> <span class="o">=</span> <span class="mi">1000</span>


<span class="k">def</span> <span class="nf">computation_that_takes_forever</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This takes a long time &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span> <span class="o">**</span> <span class="n">df</span> <span class="o">**</span> <span class="n">df</span>
    <span class="c1"># Other stuff</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;giant_dataset.csv&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">computation_that_takes_forever</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</td></tr></table><p>When you run <code>from cleandata import computation_that_takes_forever</code>, the
entire <code>cleandata.py</code> script gets run, <strong>including the data loading and
processing on lines 9 and 10!!</strong> We don't want to run this whole data cleaning
process every time we import the function.</p>
<p>The solution is to put that execution in a different function or in an
&quot;if-main&quot; block like so:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">MAX_ITERATIONS</span> <span class="o">=</span> <span class="mi">1000</span>


<span class="k">def</span> <span class="nf">computation_that_takes_forever</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This takes a long time &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span> <span class="o">**</span> <span class="n">df</span> <span class="o">**</span> <span class="n">df</span>
    <span class="c1"># Other stuff</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;giant_dataset.csv&#39;</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">computation_that_takes_forever</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</td></tr></table><p>Any code inside the <code>if __name__ == '__main__'</code> block will only be
executed if the script is called directly from the command line or via
<code>%run</code> in IPython. It is <em>not</em> run if the script is imported by another
script. So in our new version of <code>cleandata.py</code>, lines 10 and 11 only get
executed if we run <code>python cleandata.py</code> from the command line or
<code>%run cleandata.py</code> inside IPython.</p>
</div>
</div>
<div class="section" id="use-a-consistent-style">
<h2><a class="toc-backref" href="#id9">3&nbsp;&nbsp;&nbsp;Use a consistent style</a></h2>
<p>Just like for writing prose, there are style guides for writing code which help
make your writing easier to read.
Python has an official style guide called PEP8 that contains more rules than
I'll go over here.
However, there is a great Python tool called Flake8 that will automatically
check your code for PEP8 and syntax errors.
It can be integrated into the Atom editor using the <code>linter-flake8</code>
plugin.</p>
<p>A few examples of important PEP8 rules that we'll follow:</p>
<div class="section" id="lines-should-be-less-than-80-characters-wide">
<h3><a class="toc-backref" href="#id10">3.1&nbsp;&nbsp;&nbsp;Lines should be less than 80 characters wide</a></h3>
<p>Fortunately line wrapping in Python is very easy.
Anything within parentheses can be broken across lines, including function
calls:</p>
<div class="highlight"><pre><span></span><span class="n">std_devs</span> <span class="o">=</span> <span class="n">find_std_dev</span><span class="p">(</span><span class="n">variable1</span><span class="p">,</span>
                        <span class="n">variable2</span><span class="p">,</span>
                        <span class="n">variable3</span><span class="p">)</span>
</pre></div>
<p>Even if a line of code isn't 80 characters long, it's often better to break it
into several lines for clarity.</p>
<div class="highlight"><pre><span></span><span class="n">bad_seconds_per_year</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">365</span>

<span class="n">good_seconds_per_year</span> <span class="o">=</span> <span class="p">(</span>
    <span class="mi">60</span> <span class="o">*</span>     <span class="c1"># seconds per minute</span>
    <span class="mi">60</span> <span class="o">*</span>     <span class="c1"># minutes per hour</span>
    <span class="mi">24</span> <span class="o">*</span>     <span class="c1"># hours per day</span>
    <span class="mi">365</span>      <span class="c1"># days per year</span>
<span class="p">)</span>

<span class="n">bad_dataframe_chain</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Yearly Avg&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;dumb_var&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">bad_dataframe_chain</span> <span class="o">=</span> <span class="n">bad_dataframe_chain</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;state_id&#39;</span><span class="p">)</span>

<span class="n">good_dataframe_chain</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
                        <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Yearly Avg&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span>
                        <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;dumb_var&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                        <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;state_id&#39;</span><span class="p">))</span>
</pre></div>
<p>Long strings can be wrapped in parentheses as well and will automatically be
concatenated. Just don't forget to add spaces where necessary.</p>
<div class="highlight"><pre><span></span><span class="n">one_long_string</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;When in the course of human events &quot;</span>
    <span class="s2">&quot;it becomes necessary for one &quot;</span>
    <span class="s2">&quot;people to dissolve the political &quot;</span>
    <span class="s2">&quot;bands which have connected them &quot;</span>
    <span class="s2">&quot;with another and to assume among &quot;</span>
    <span class="s2">&quot;the powers of the earth, the &quot;</span>
    <span class="s2">&quot;separate and equal station to which &quot;</span>
    <span class="s2">&quot;the Laws of Nature and of Nature&#39;s &quot;</span>
    <span class="s2">&quot;God entitle them, a decent respect &quot;</span>
    <span class="s2">&quot;to the opinions of mankind requires &quot;</span>
    <span class="s2">&quot;that they should declare the causes &quot;</span>
    <span class="s2">&quot;which impel them to the separation.&quot;</span>
<span class="p">)</span>
</pre></div>
<p>This also holds for imports, which can also be broken across lines using parens</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datasource</span> <span class="k">import</span> <span class="p">(</span><span class="n">load_data_1</span><span class="p">,</span> <span class="n">load_data_2</span><span class="p">,</span> <span class="n">load_data_3</span><span class="p">,</span> <span class="n">load_data_4</span><span class="p">,</span>
                        <span class="n">load_data_5</span><span class="p">)</span>
</pre></div>
<p>Most languages have special syntax that allows you to break long commands
across several lines.
In Stata, <code>///</code> says &quot;the following line is really part of this one. You
can also change the delimiter to <code>;</code> using <code>#delimiter ;</code>.</p>
</div>
<div class="section" id="indentation">
<h3><a class="toc-backref" href="#id11">3.2&nbsp;&nbsp;&nbsp;Indentation</a></h3>
<p>Whitespace is important in Python and messing up indentation can cause your
code to crash.</p>
<ul class="simple">
<li>Do not use tabs to indent. Use 4 spaces. Your editor should have a setting
for this, so that when you hit the tab key the editor inserts 4 spaces
instead of a tab code (<code>\t</code>).</li>
<li>When you break a line using parentheses, the next line should line up with
the open parenthesis on the line above. If the open parenthesis is alone
on that line, indent once.</li>
</ul>
<div class="highlight"><pre><span></span><span class="c1"># This is good</span>
<span class="kn">from</span> <span class="nn">datasource</span> <span class="k">import</span> <span class="p">(</span><span class="n">load_data_1</span><span class="p">,</span> <span class="n">load_data_2</span><span class="p">,</span> <span class="n">load_data_3</span><span class="p">,</span> <span class="n">load_data_4</span><span class="p">,</span>
                        <span class="n">load_data_5</span><span class="p">)</span>
<span class="c1"># This is bad</span>
<span class="kn">from</span> <span class="nn">datasource</span> <span class="k">import</span> <span class="p">(</span><span class="n">load_data_1</span><span class="p">,</span> <span class="n">load_data_2</span><span class="p">,</span> <span class="n">load_data_3</span><span class="p">,</span> <span class="n">load_data_4</span><span class="p">,</span>
    <span class="n">load_data_5</span><span class="p">)</span>

<span class="c1"># This is good</span>
<span class="n">good_seconds_per_year</span> <span class="o">=</span> <span class="p">(</span>
    <span class="mi">60</span> <span class="o">*</span>     <span class="c1"># seconds per minute</span>
    <span class="mi">60</span> <span class="o">*</span>     <span class="c1"># minutes per hour</span>
    <span class="mi">24</span> <span class="o">*</span>     <span class="c1"># hours per day</span>
    <span class="mi">365</span>      <span class="c1"># days per year</span>
<span class="p">)</span>
<span class="c1"># This is bad</span>
<span class="n">bad_seconds_per_year</span> <span class="o">=</span> <span class="p">(</span>
            <span class="mi">60</span> <span class="o">*</span>     <span class="c1"># seconds per minute</span>
            <span class="mi">60</span> <span class="o">*</span>     <span class="c1"># minutes per hour</span>
            <span class="mi">24</span> <span class="o">*</span>     <span class="c1"># hours per day</span>
            <span class="mi">365</span>      <span class="c1"># days per year</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="section" id="imports">
<h3><a class="toc-backref" href="#id12">3.3&nbsp;&nbsp;&nbsp;Imports</a></h3>
<ul class="simple">
<li>Imports go at the top of the file.</li>
<li><em>NEVER</em> import an entire package like this: <code>from numpy import *</code>.</li>
<li>Separate and order imports like so</li>
</ul>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>                               <span class="c1"># Standard library (come with Python)</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>                      <span class="c1"># Third-party packages</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">drillinginfo</span> <span class="k">import</span> <span class="n">clean_wells</span>    <span class="c1"># Packages developed by our team</span>

<span class="kn">from</span> <span class="nn">util.env</span> <span class="k">import</span> <span class="n">data_path</span>          <span class="c1"># Imports from *this* project</span>
</pre></div>
</div>
<div class="section" id="don-t-use-the-same-variable-name-for-different-things">
<h3><a class="toc-backref" href="#id13">3.4&nbsp;&nbsp;&nbsp;Don't use the same variable name for different things</a></h3>
<p>Python (and Stata and R) are dynamically-typed languages, which means that they
just figure out what kind of data a variable is, like a string, an integer or a
decimal float. As a result, it's common to see people re-use variable names for
different things. For example:</p>
<div class="highlight"><pre><span></span><span class="c1"># Bad</span>
<span class="n">to_clean</span> <span class="o">=</span> <span class="s1">&#39;c:/data/raw_data.csv&#39;</span>
<span class="n">to_clean</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">to_clean</span><span class="p">)</span>
</pre></div>
<p>This short example isn't too bad, but on larger scales it can be very confusing
when a variable you thought was a DataFrame ends up being a string or vice
versa. This type changing is also computationally slower. (It also messes up
the <cite>mypy</cite> linter/type-checker.) A better solution is to be more explicit in
naming your variables:</p>
<div class="highlight"><pre><span></span><span class="c1"># Good</span>
<span class="n">raw_data_path</span> <span class="o">=</span> <span class="s1">&#39;c:/data/raw_data.csv&#39;</span>
<span class="n">raw_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">raw_data_path</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="make-lowercase-uppercase-meaningful">
<h3><a class="toc-backref" href="#id14">3.5&nbsp;&nbsp;&nbsp;Make lowercase/uppercase meaningful</a></h3>
<p>Variable and function names are all lowercase with underscores:</p>
<div class="highlight"><pre><span></span><span class="c1"># Good</span>
<span class="n">my_descriptive_name</span> <span class="o">=</span> <span class="s1">&#39;abc&#39;</span>

<span class="k">def</span> <span class="nf">make_results_significant</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;***&#39;</span>

<span class="c1"># Bad</span>
<span class="n">NoCamelCase</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
<p>Names of constants, especially project-wide parameters, are written in all
capitals and almost always placed at the top of the script right after the
imports:</p>
<div class="highlight"><pre><span></span><span class="n">MAX_TIME_PERIODS</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">ROBUST_ERRORS</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
<p>If you create any custom Python objects (classes), their name should begin with
a capital and follow &quot;Camel case&quot; or &quot;CapWords&quot; convention:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyDataStorage</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
</div>
<div class="section" id="other-stuff">
<h3><a class="toc-backref" href="#id15">3.6&nbsp;&nbsp;&nbsp;Other stuff</a></h3>
<ul class="simple">
<li>Spaces around assignments: <code>x = 7</code> not <code>x=7</code>.</li>
<li>No spaces around keyword variables: <code>function(arg1=y, arg2=3)</code>.</li>
<li>Spaces after commas (just like in prose).</li>
<li>Functions meant to be local (subroutines not meant to be imported by other
scripts) should start with an underscore, e.g., <code>_drop_missings()</code>.</li>
<li>Two lines between unrelated functions. One line between auxiliary functions:</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">primary_func1</span><span class="p">():</span>
    <span class="c1"># Stuff</span>

<span class="k">def</span> <span class="nf">_aux_to_1</span><span class="p">():</span>
    <span class="c1"># Stuff</span>

<span class="k">def</span> <span class="nf">_another_aux_to_1</span><span class="p">():</span>
    <span class="c1"># Stuff</span>


<span class="k">def</span> <span class="nf">primary_func2</span><span class="p">():</span>
    <span class="c1"># Stuff</span>

<span class="k">def</span> <span class="nf">_aux_to_2</span><span class="p">():</span>
    <span class="c1"># Stuff</span>
</pre></div>
</div>
</div>
<div class="section" id="example-script">
<h2><a class="toc-backref" href="#id16">4&nbsp;&nbsp;&nbsp;Example Script</a></h2>
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Task: read the words from the file `tmp.txt` and calculate each word&#39;s score</span>
<span class="sd">based on the &quot;value&quot; of its letters, where A=1, B=2, etc. Then calculate how</span>
<span class="sd">many words in the file are &quot;triangle&quot; numbers. A number T is a triangle number</span>
<span class="sd">if there is an integer n such that T = n * (n + 1) / 2.</span>

<span class="sd">Solution to Project Euler Problem 42. https://projecteuler.net/problem=42</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">string</span> <span class="k">import</span> <span class="n">ascii_uppercase</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>


<span class="n">LETTER_SCORE</span> <span class="o">=</span> <span class="p">{</span><span class="n">ascii_uppercase</span><span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">27</span><span class="p">)}</span>


<span class="k">def</span> <span class="nf">word_score</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Calculate total letter score for `word` &quot;&quot;&quot;</span>
    <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="n">LETTER_SCORE</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">score</span>


<span class="k">def</span> <span class="nf">is_triangle</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Use definition of triangle number and the quadratic formula to see if</span>
<span class="sd">    `x` is a triangle number.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">positive_root</span> <span class="o">=</span> <span class="n">_positive_quadratic_root</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">positive_root</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">positive_root</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_positive_quadratic_root</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">c</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>

    <span class="n">positive_root</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">b</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">b</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">positive_root</span>


<span class="k">def</span> <span class="nf">read_and_prep_data</span><span class="p">():</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tmp.txt&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">]</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">read_and_prep_data</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;word_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">word_score</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_triangle&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;word_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">is_triangle</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;is_triangle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
<div class="section" id="follow-robust-development-practices">
<h2><a class="toc-backref" href="#id17">5&nbsp;&nbsp;&nbsp;Follow Robust Development Practices</a></h2>
<div class="section" id="build-your-code-incrementally-in-a-script">
<h3><a class="toc-backref" href="#id18">5.1&nbsp;&nbsp;&nbsp;Build your code incrementally in a script</a></h3>
<p>It's pretty common for data work in social science to look like this: You open
Stata, R, Python, etc., and start poking around on the command line, interacting
with the data until you get where you want. Then you use the command history
(or your memory) to reconstruct what you did and put it in a script.</p>
<p>This is a bad way to work. Reconstructing exactly what you did is often
difficult. At best, you're doing everything twice. Jupyter notebooks were
designed in part to address this problem. However, as mentioned above, our
work doesn't always play nice with Jupyter notebooks.</p>
<p>You can avoid these problems by writing your script incrementally.  Start with
a script that's empty except for the if-main block. Write the beginnings of
your first function in the if-main block:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># Prep data for regression</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data.csv&#39;</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;TX&#39;</span><span class="p">]</span>    <span class="c1"># Restrict to Texas</span>
    <span class="c1"># Do other cleaning</span>
</pre></div>
<p>Now run your script using <code>%run</code> in IPython. Use some basic interactivity
to figure out any bugs (e.g., maybe the state variable isn't called &quot;state&quot;).
After you fix a problem in your script, <code>%run</code> it again. Keep doing this
until you're done with the given task (e.g., prepping the data for a
regression), then move that code into a function.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">prep_data_for_reg</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; Prep data for regression &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data.csv&#39;</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;TX&#39;</span><span class="p">]</span>    <span class="c1"># Restrict to Texas</span>
    <span class="c1"># Do other cleaning...</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">prep_data_for_reg</span><span class="p">()</span>
</pre></div>
<p>Now you can start work on your next task in the if-main block in the same way.
This is also a good time to commit your changes in Git if you haven't already
done so.</p>
<p>When you're done, there should be a very simple (maybe empty) if-main block.</p>
</div>
<div class="section" id="don-t-run-snippets-of-code-in-isolation">
<h3><a class="toc-backref" href="#id19">5.2&nbsp;&nbsp;&nbsp;Don't run snippets of code in isolation</a></h3>
<p>Spyder and Stata's do-file editor both have buttons that let you highlight a
few lines of code and run only those. <em>Don't use them.</em> Run scripts from the
beginning. It is too easy to spend ages &quot;fixing&quot; a piece of code by running it
as a snippet only to find that when you run the script as a whole, you never
actually fixed the problem (or introduced a new one).</p>
</div>
<div class="section" id="use-the-ipython-terminal-and-a-text-editor">
<h3><a class="toc-backref" href="#id20">5.3&nbsp;&nbsp;&nbsp;Use the IPython terminal and a text editor</a></h3>
<p>Jupyter and Spyder are great tools for analyzing data in Python. However, it is
hard to keep track of your computing environemnt (which versions of packages
are loaded, etc.) while using these tools. Our preferred solution is to use a
robust text editor (Atom, Vim, Emacs) alongside a CMDer window running the
IPython terminal. You can then use the <code>%run</code> command inside IPython to
run your code.</p>
<p>And while Stata has a built-in text editor, it lacks most features you should
look for in a good editor.</p>
</div>
<div class="section" id="manage-your-installed-libraries-using-a-virtual-environment">
<h3><a class="toc-backref" href="#id21">5.4&nbsp;&nbsp;&nbsp;Manage your installed libraries using a virtual environment</a></h3>
<p>Let's say you work on Project A for a while using Pandas 0.18 and Numpy 1.12
and some other Python packages. You submit Project A and start on Project B.
Project B requires some features in Pandas 0.22, so you upgrade. While you're
working on Project B, you get a revise and resubmit on Project A.  (Contrats!)
But when you try to run your code from Project A, it doesn't work with Pandas
0.22.</p>
<p>Virtual Environments were created to solve this problem. A virtual environment
is a quarantined installation of Python that is independent from any other
installations, including your default system Python. When you want to run code
within a given virtual environment, you just activate it. The details of how
you do that depend on the virtual environment software you use. We will use the
Anaconda tool <code>conda</code>. There are lots of tutorials for <code>conda</code>
online, e.g., <a class="reference external" href="https://towardsdatascience.com/getting-started-with-python-environments-using-conda-32e9f2779307">here</a>.</p>
<p>You can avoid conflicting versions across projects by having a separate virtual
environment for each one.</p>
</div>
<div class="section" id="use-universal-immutable-identifiers-whenever-possible">
<h3><a class="toc-backref" href="#id22">5.5&nbsp;&nbsp;&nbsp;Use universal, immutable identifiers whenever possible</a></h3>
<p>For example, use FIPS, not your own made up county ID's. Any time you introduce
your own arbitrary identifiers, you run the risk of introducing inconsistencies
between datasets.</p>
</div>
</div>

        </div>
    </section>
        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="http://www.danielmsullivan.com/images/dms_med.jpg"/>
        </p>
</div><!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="http://github.com/dmsul"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
    <li class="list-group-item"><a href="https://twitter.com/dmsul"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
    <li class="list-group-item"><a href="mailto:sullivan@rff.org"><i class="fa fa-envelope fa-lg"></i> Email</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="https://scholar.google.com/citations?user=naLX3CIAAAAJ" target="_blank">Google Scholar</a>
    </li>
    <li class="list-group-item">
      <a href="http://orcid.org/0000-0002-0380-7681" target="_blank">ORCID</a>
    </li>
    <li class="list-group-item">
      <a href="https://ideas.repec.org/f/psu490.html" target="_blank">RePEc</a>
    </li>
    <li class="list-group-item">
      <a href="http://www.rff.org/people/profile/daniel-m-sullivan" target="_blank">RFF page</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy;  Daniel M. Sullivan
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://www.danielmsullivan.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://www.danielmsullivan.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://www.danielmsullivan.com/theme/js/respond.min.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-88761020-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->


</body>
</html>